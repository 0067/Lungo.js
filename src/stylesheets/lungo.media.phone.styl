@import "__init.styl"

/* ==== Any phone ==== */
@media only screen and (max-width: 767px)
  body
    vendor(perspective, 800px)
    vendor(transform-style, preserve-3d)

    &[data-position="absolute"] > section
      position: absolute
    &[data-position="fixed"] > section
      position: fixed

    & > aside
      position: absolute

    & > section
      display: none
      &:not([data-transition]).show
        display: block

      &.show.aside
        &:not(.right)
          transform translateX(ASIDE_WIDTH)
        &.right
          transform translateX(-(ASIDE_WIDTH))
      &.show.hide
        z-index: -1

      &[data-transition]
        display-box()
        // transition-property opacity, z-index, transform, scale, opacity
        // transition-duration TRANSITION_TIME
        // transition-timing-function DEFAULT_TRANSITION
        backface-visibility hidden
        vendor(animation-duration, TRANSITION_TIME)
        vendor(animation-timing-function, DEFAULT_TRANSITION)
        visibility: hidden
        &.show
          visibility: visible
